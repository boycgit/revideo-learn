# ğŸš€ React äº¤äº’å¼æ¼”ç¤ºåº”ç”¨

## å¿«é€Ÿå¯åŠ¨

```bash
pnpm run interactive:react
```

æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€ http://localhost:3002

## ç‰¹æ€§å¯¹æ¯”

### Canvas ç‰ˆæœ¬ vs React ç‰ˆæœ¬

| ç‰¹æ€§ | Canvas ç‰ˆæœ¬ | React ç‰ˆæœ¬ |
|------|------------|-----------|
| ç«¯å£ | 3001 | 3002 |
| æŠ€æœ¯æ ˆ | åŸç”Ÿ TS + Canvas | React + Revideo Player |
| ä»£ç å¤ç”¨ | âŒ é‡æ–°å®ç° | âœ… ä½¿ç”¨ç°æœ‰åœºæ™¯ |
| ç»´æŠ¤æˆæœ¬ | é«˜ | ä½ |
| åŠŸèƒ½å®Œæ•´æ€§ | éƒ¨åˆ† | å®Œæ•´ |
| å¯åŠ¨å‘½ä»¤ | `pnpm run interactive` | `pnpm run interactive:react` |

## ä¸ºä»€ä¹ˆé€‰æ‹© React ç‰ˆæœ¬ï¼Ÿ

### âœ… ä¼˜åŠ¿

1. **ä»£ç å¤ç”¨**
   - ç›´æ¥ä½¿ç”¨ `src/scenes/euclidean-algorithm.tsx`
   - æ— éœ€é‡æ–°å®ç°åŠ¨ç”»é€»è¾‘
   - åœºæ™¯æ›´æ–°è‡ªåŠ¨åŒæ­¥

2. **åŠŸèƒ½å®Œæ•´**
   - æ‰€æœ‰ Revideo åœºæ™¯åŠŸèƒ½éƒ½å¯ç”¨
   - å†…ç½®æ’­æ”¾æ§åˆ¶
   - æ”¯æŒæ‰€æœ‰åŠ¨ç”»æ•ˆæœ

3. **æ˜“äºç»´æŠ¤**
   - åªéœ€ç»´æŠ¤ä¸€ä»½åœºæ™¯ä»£ç 
   - React ç»„ä»¶åŒ–æ¶æ„
   - TypeScript ç±»å‹å®‰å…¨

4. **æ˜“äºæ‰©å±•**
   - æ·»åŠ æ–°åœºæ™¯åªéœ€å¯¼å…¥
   - æ”¯æŒåœºæ™¯åˆ‡æ¢
   - å¯ä»¥é›†æˆæ›´å¤šåŠŸèƒ½

### âš ï¸ Canvas ç‰ˆæœ¬çš„é—®é¢˜

1. **ä»£ç é‡å¤**
   - éœ€è¦é‡æ–°å®ç°æ‰€æœ‰åŠ¨ç”»é€»è¾‘
   - ä¸ Revideo åœºæ™¯ä¸åŒæ­¥
   - ç»´æŠ¤ä¸¤ä»½ä»£ç 

2. **åŠŸèƒ½å—é™**
   - åªèƒ½å®ç°éƒ¨åˆ†åŠŸèƒ½
   - åŠ¨ç”»æ•ˆæœç®€åŒ–
   - ç¼ºå°‘é«˜çº§ç‰¹æ€§

3. **ç»´æŠ¤æˆæœ¬é«˜**
   - åœºæ™¯æ›´æ–°éœ€è¦åŒæ­¥ä¿®æ”¹
   - å®¹æ˜“å‡ºç°ä¸ä¸€è‡´
   - è°ƒè¯•å›°éš¾

## ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨åº”ç”¨

```bash
# æ–¹å¼ 1ï¼šä»æ ¹ç›®å½•
pnpm run interactive:react

# æ–¹å¼ 2ï¼šä» examples ç›®å½•
cd packages/examples
pnpm run interactive:react
```

### 2. ä½¿ç”¨ç•Œé¢

1. åœ¨å·¦ä¾§è¾“å…¥ä¸¤ä¸ªæ•°å­—ï¼ˆ1-1000ï¼‰
2. ç‚¹å‡»"å¼€å§‹æ¼”ç¤º"æˆ–æŒ‰å›è½¦é”®
3. è§‚çœ‹ Revideo åœºæ™¯åŠ¨ç”»
4. ä½¿ç”¨æ’­æ”¾å™¨æ§åˆ¶æ’­æ”¾/æš‚åœ
5. ç‚¹å‡»é¢„è®¾ç¤ºä¾‹å¿«é€Ÿä½“éªŒ

### 3. æ’­æ”¾æ§åˆ¶

- **æ’­æ”¾/æš‚åœ**ï¼šç‚¹å‡»æ’­æ”¾å™¨æˆ–æŒ‰ç©ºæ ¼é”®
- **è¿›åº¦æ¡**ï¼šæ‹–åŠ¨è¿›åº¦æ¡è·³è½¬
- **éŸ³é‡æ§åˆ¶**ï¼šè°ƒæ•´éŸ³é‡æ»‘å—
- **å…¨å±**ï¼šç‚¹å‡»å…¨å±æŒ‰é’®

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React App (interactive-react)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  App.tsx (ä¸»ç»„ä»¶)              â”‚  â”‚
â”‚  â”‚  - è¾“å…¥æ§åˆ¶                    â”‚  â”‚
â”‚  â”‚  - ç¤ºä¾‹é€‰æ‹©                    â”‚  â”‚
â”‚  â”‚  - æ’­æ”¾çŠ¶æ€ç®¡ç†                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                       â”‚
â”‚              â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  @revideo/player-react        â”‚  â”‚
â”‚  â”‚  - Player ç»„ä»¶                 â”‚  â”‚
â”‚  â”‚  - æ’­æ”¾æ§åˆ¶                    â”‚  â”‚
â”‚  â”‚  - è¿›åº¦æ˜¾ç¤º                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Revideo Project                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  euclidean-algorithm.ts        â”‚  â”‚
â”‚  â”‚  - makeProject()               â”‚  â”‚
â”‚  â”‚  - variables: {a, b}           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                      â”‚
â”‚               â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  scenes/euclidean-algorithm.tsxâ”‚  â”‚
â”‚  â”‚  - makeScene2D()               â”‚  â”‚
â”‚  â”‚  - åŠ¨ç”»é€»è¾‘                     â”‚  â”‚
â”‚  â”‚  - å¯è§†åŒ–æ•ˆæœ                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ·»åŠ æ–°åœºæ™¯

### æ­¥éª¤ 1ï¼šåˆ›å»ºåœºæ™¯æ–‡ä»¶

```typescript
// src/scenes/sorting.tsx
import { makeScene2D } from '@revideo/2d';

export default makeScene2D('sorting', function* (view) {
  const array = view.project.variables?.array || [5, 2, 8, 1, 9];
  // å®ç°æ’åºåŠ¨ç”»...
});
```

### æ­¥éª¤ 2ï¼šåˆ›å»ºé¡¹ç›®æ–‡ä»¶

```typescript
// src/sorting.ts
import { makeProject } from '@revideo/core';
import scene from './scenes/sorting';

export default makeProject({
  scenes: [scene],
  variables: {
    array: [5, 2, 8, 1, 9],
  },
});
```

### æ­¥éª¤ 3ï¼šåœ¨ App ä¸­æ·»åŠ é€‰æ‹©å™¨

```typescript
// src/interactive-react/App.tsx
const [selectedScene, setSelectedScene] = useState('euclidean');

const loadProject = async (sceneName: string, variables: any) => {
  const projectModule = await import(`../${sceneName}`);
  const newProject = {
    ...projectModule.default,
    variables,
  };
  setProject(newProject);
};

// UI
<select onChange={(e) => setSelectedScene(e.target.value)}>
  <option value="euclidean">æ¬§å‡ é‡Œå¾—ç®—æ³•</option>
  <option value="sorting">æ’åºç®—æ³•</option>
</select>
```

## é¡¹ç›®ç»“æ„

```
packages/examples/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ interactive-react/        # ğŸ†• React åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ main.tsx
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ interactive/              # Canvas ç‰ˆæœ¬ï¼ˆæ—§ï¼‰
â”‚   â”œâ”€â”€ scenes/                   # Revideo åœºæ™¯
â”‚   â”‚   â””â”€â”€ euclidean-algorithm.tsx
â”‚   â””â”€â”€ euclidean-algorithm.ts    # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.react.config.ts          # ğŸ†• React é…ç½®
â”œâ”€â”€ vite.interactive.config.ts    # Canvas é…ç½®
â””â”€â”€ package.json                  # ğŸ”„ å·²æ›´æ–°
```

## å‘½ä»¤å¯¹æ¯”

| åŠŸèƒ½ | Canvas ç‰ˆæœ¬ | React ç‰ˆæœ¬ |
|------|------------|-----------|
| å¼€å‘ | `pnpm run interactive` | `pnpm run interactive:react` |
| æ„å»º | `pnpm run interactive:build` | `pnpm run interactive:react:build` |
| ç«¯å£ | 3001 | 3002 |

## ä¾èµ–è¯´æ˜

### æ–°å¢ä¾èµ–

```json
{
  "dependencies": {
    "@revideo/player-react": "workspace:*",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.1",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0"
  }
}
```

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Ÿ

A: Canvas ç‰ˆæœ¬æ˜¯æ—©æœŸå®ç°ï¼ŒReact ç‰ˆæœ¬æ˜¯æ”¹è¿›ç‰ˆæœ¬ã€‚æ¨èä½¿ç”¨ React ç‰ˆæœ¬ã€‚

### Q: å¯ä»¥åˆ é™¤ Canvas ç‰ˆæœ¬å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½†å»ºè®®ä¿ç•™ä½œä¸ºå‚è€ƒæˆ–å¤‡ç”¨æ–¹æ¡ˆã€‚

### Q: å¦‚ä½•åˆ‡æ¢åœºæ™¯ï¼Ÿ

A: åœ¨ App.tsx ä¸­å®ç°åœºæ™¯é€‰æ‹©å™¨ï¼ŒåŠ¨æ€å¯¼å…¥ä¸åŒçš„é¡¹ç›®æ–‡ä»¶ã€‚

### Q: æ€§èƒ½å¦‚ä½•ï¼Ÿ

A: React ç‰ˆæœ¬ä½¿ç”¨ Revideo çš„ä¼˜åŒ–æ¸²æŸ“å¼•æ“ï¼Œæ€§èƒ½ä¼˜äºæ‰‹åŠ¨ Canvas ç»˜åˆ¶ã€‚

### Q: å¯ä»¥å¯¼å‡ºè§†é¢‘å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½¿ç”¨ Revideo CLI çš„ render å‘½ä»¤å¯¼å‡ºè§†é¢‘ã€‚

## ä¸‹ä¸€æ­¥

- [ ] æ·»åŠ åœºæ™¯é€‰æ‹©å™¨
- [ ] å®ç°åœºæ™¯åˆ‡æ¢åŠ¨ç”»
- [ ] æ·»åŠ æ›´å¤šç®—æ³•æ¼”ç¤º
- [ ] æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜
- [ ] æ·»åŠ åˆ†äº«åŠŸèƒ½
- [ ] é›†æˆè§†é¢‘å¯¼å‡º

## æ–‡æ¡£

- ğŸ“– [è¯¦ç»†æ–‡æ¡£](packages/examples/src/interactive-react/README.md)
- ğŸ“š [Revideo æ–‡æ¡£](https://docs.re.video/)
- ğŸ¬ [Player API](https://docs.re.video/api/player-react/player)

---

**æ¨è**: ä½¿ç”¨ React ç‰ˆæœ¬è¿›è¡Œå¼€å‘ï¼Œå®ƒæä¾›äº†æ›´å¥½çš„ä»£ç å¤ç”¨å’Œç»´æŠ¤æ€§ã€‚
